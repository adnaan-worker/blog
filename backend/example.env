# ================================
# 基础环境配置
# ================================

# 运行环境 - development(开发) | production(生产) | test(测试)
NODE_ENV=development

# 服务器端口 - 后端API服务器监听的端口
PORT=8200

# ================================
# 数据库配置 (MySQL)
# ================================

# 数据库主机地址 - MySQL服务器的IP地址或域名
DB_HOST=localhost

# 数据库用户名 - 连接MySQL的用户名
DB_USER=root

# 数据库密码 - 连接MySQL的密码
DB_PASSWORD=root

# 数据库名称 - 项目使用的数据库名
DB_NAME=adnaan_blog

# 数据库端口 - MySQL服务器的端口(默认3306)
DB_PORT=3306

# ================================
# JWT身份验证配置
# ================================

# JWT密钥 - 用于签名和验证JWT令牌的密钥(建议使用强随机字符串)
JWT_SECRET=25756f4d004709ae1f84af6ca9fe5bf641ad44672e9444631c088fec154ebd80

# JWT过期时间 - 访问令牌的有效期(1d=1天, 1h=1小时)
JWT_EXPIRES_IN=1d

# JWT刷新令牌过期时间 - 刷新令牌的有效期
JWT_REFRESH_EXPIRES_IN=7d

# ================================
# Redis缓存配置
# ================================

# Redis主机地址 - Redis服务器的IP地址或域名
REDIS_HOST=localhost

# Redis端口 - Redis服务器的端口(默认6379)
REDIS_PORT=6379

# Redis密码 - Redis服务器的认证密码(可选)
# REDIS_PASSWORD=

# Redis数据库编号 - 使用的Redis数据库编号(0-15)
REDIS_DB=1

# ================================
# 跨域配置 (CORS)
# ================================

# 允许的源地址 - 允许跨域请求的前端地址列表(逗号分隔)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:5173,http://localhost:8200

# ================================
# Socket.IO 实时通信配置
# ================================

# 是否启用Socket.IO - true启用, false禁用
SOCKET_IO_ENABLED=true

# Socket.IO认证密钥 - 客户端连接时的认证密钥
SOCKET_IO_AUTH_KEY=duyong-socket-328

# Socket.IO跨域源 - 允许Socket.IO连接的源地址(包括WebSocket协议)
SOCKET_IO_CORS_ORIGIN=http://www.adnaan.cn,http://api.adnaan.cn,ws://www.adnaan.cn,ws://api.adnaan.cn

# Socket.IO Ping超时(毫秒) - 等待客户端pong响应的最大时间
SOCKET_IO_PING_TIMEOUT=60000

# Socket.IO Ping间隔(毫秒) - 服务器发送ping包的间隔时间
SOCKET_IO_PING_INTERVAL=25000

# Socket.IO最大HTTP缓冲区大小(字节) - 单个HTTP请求的最大大小
SOCKET_IO_MAX_HTTP_BUFFER_SIZE=1000000

# Socket.IO传输方式 - 支持的传输协议(polling轮询, websocket)
SOCKET_IO_TRANSPORTS=polling,websocket

# Socket.IO升级超时(毫秒) - 从轮询升级到WebSocket的超时时间
SOCKET_IO_UPGRADE_TIMEOUT=10000

# Socket.IO路径 - Socket.IO服务的URL路径
SOCKET_IO_PATH=/socket.io

# ================================
# 日志配置
# ================================

# 日志级别 - error(错误) | warn(警告) | info(信息) | debug(调试)
LOG_LEVEL=debug

# 日志文件路径 - 日志文件的存储目录
LOG_FILE_PATH=./logs

# ================================
# 系统监控配置
# ================================

# 是否启用系统监控 - true启用性能监控和健康检查
ENABLE_MONITORING=true

# ================================
# AI服务配置 (基于 LangChain)
# ================================

# AI服务提供商 - openai(OpenAI) | zhipu(智谱AI) | baidu(百度) | aliyun(阿里云)
AI_PROVIDER=zhipu

# AI模型名称 - 使用的具体AI模型(如gpt-4, glm-4等)
AI_MODEL_NAME=glm-4

# AI温度参数 - 控制AI回答的创造性(0.0-1.0, 越高越有创造性)
AI_TEMPERATURE=0.7

# AI最大令牌数 - AI单次回应的最大字符数限制
AI_MAX_TOKENS=2000

# ================================
# AI 提供商密钥配置
# ================================

# OpenAI API密钥 - 使用OpenAI服务时的API密钥
OPENAI_API_KEY=your_openai_api_key_here

# 智谱AI API密钥 - 使用智谱AI服务时的API密钥
ZHIPU_API_KEY=your_zhipu_api_key_here

# 百度文心一言API密钥 - 使用百度AI服务时的API密钥(可选)
# BAIDU_API_KEY=your_baidu_api_key
# BAIDU_SECRET_KEY=your_baidu_secret_key

# 阿里云通义千问API密钥 - 使用阿里云AI服务时的API密钥(可选)
# ALIYUN_API_KEY=your_aliyun_api_key

# 自定义AI服务配置 - 使用自定义AI服务时的配置(可选)
# CUSTOM_AI_URL=your_custom_ai_url
# CUSTOM_AI_KEY=your_custom_ai_key

# ================================
# Redis 高级配置 (性能与稳定性)
# ================================

# Redis连接超时(毫秒) - 建立Redis连接的最大等待时间
REDIS_CONNECT_TIMEOUT=30000

# Redis命令超时(毫秒) - 单个Redis命令执行的最大等待时间
REDIS_COMMAND_TIMEOUT=10000

# Redis故障转移重试延迟(毫秒) - 主从切换时的重试延迟
REDIS_RETRY_DELAY_ON_FAILOVER=100

# Redis最大重试次数 - 单个请求的最大重试次数
REDIS_MAX_RETRIES=5

# Redis懒加载连接 - true为懒加载, false为立即连接
REDIS_LAZY_CONNECT=false

# Redis保持连接时间(毫秒) - TCP keepalive时间
REDIS_KEEP_ALIVE=30000

# Redis最大加载超时(毫秒) - 数据加载的最大等待时间
REDIS_MAX_LOADING_TIMEOUT=5000

# Redis重连最大尝试次数 - 连接断开后的最大重连次数
REDIS_MAX_RETRY_ATTEMPTS=20

# Redis重连基础延迟(毫秒) - 重连时的基础延迟时间
REDIS_RETRY_DELAY=200

# Redis重连最大延迟(毫秒) - 指数退避重连的最大延迟时间
REDIS_MAX_RETRY_DELAY=3000

# ================================
# Socket.IO 高级配置 (限流与安全)
# ================================

# Socket.IO最大连接数 - 服务器允许的最大并发连接数
SOCKET_IO_MAX_CONNECTIONS=1000

# Socket.IO速率限制连接数 - 每个IP每分钟允许的最大连接数
SOCKET_IO_RATE_LIMIT_CONNECTIONS=10

# Socket.IO速率限制重置间隔(毫秒) - 连接计数重置的时间间隔
SOCKET_IO_RATE_LIMIT_RESET_INTERVAL=60000

# ================================
# 业务服务配置 (缓存与清理策略)
# ================================

# 状态服务配置
# 无活动阈值(毫秒) - 多长时间无活动认为不活跃(1800000=30分钟)
STATUS_INACTIVE_THRESHOLD=1800000

# 清理阈值(毫秒) - 多长时间无活动后清理缓存(3600000=1小时)
STATUS_CLEANUP_THRESHOLD=3600000

# 自动清理间隔(毫秒) - 定期检查清理的时间间隔(300000=5分钟)
STATUS_AUTO_CLEANUP_INTERVAL=300000

# 音乐状态过期时间(秒) - 音乐状态在Redis中的过期时间
STATUS_MUSIC_EXPIRE_TIME=3600

# 最多保留活跃应用数 - 状态历史中保留的最大应用数量
STATUS_MAX_ACTIVE_APPS=3

# 应用状态过期时间(秒) - 应用状态在Redis中的过期时间(86400=24小时)
STATUS_APP_EXPIRE_TIME=86400

# 代理服务缓存配置(秒)
# IP定位缓存时间 - IP地理位置信息的缓存时间(3600=1小时)
PROXY_IP_LOCATION_TTL=3600

# 天气缓存时间 - 天气信息的缓存时间(1800=30分钟)
PROXY_WEATHER_TTL=1800

# 音乐URL缓存时间 - 音乐播放URL的缓存时间(86400=24小时)
PROXY_MUSIC_URL_TTL=86400

# 访客统计配置
# 访客活动过期阈值(毫秒) - 清理过期访客活动的时间阈值(300000=5分钟)
VISITOR_STATS_EXPIRE_THRESHOLD=300000

# GitHub集成配置
# GitHub请求超时(毫秒) - GitHub API请求的超时时间
GITHUB_REQUEST_TIMEOUT=10000

# GitHub缓存时间(秒) - GitHub贡献数据的缓存时间(900=15分钟)
GITHUB_CACHE_TTL=900

# ================================
# OAuth 第三方登录配置
# ================================

# GitHub OAuth配置
# 在 https://github.com/settings/developers 创建OAuth App
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_CALLBACK_URL=http://localhost:8200/api/oauth/github/callback

# Google OAuth配置
# 在 https://console.cloud.google.com/apis/credentials 创建OAuth 2.0客户端
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_CALLBACK_URL=http://localhost:8200/api/oauth/google/callback

# Gitee OAuth配置
# 在 https://gitee.com/oauth/applications 创建应用
GITEE_CLIENT_ID=your_gitee_client_id
GITEE_CLIENT_SECRET=your_gitee_client_secret
GITEE_CALLBACK_URL=http://localhost:8200/api/oauth/gitee/callback

# OAuth前端回调地址 - OAuth成功后重定向的前端地址
OAUTH_FRONTEND_URL=http://localhost:5173